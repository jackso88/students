# SimplePythonSearcher
# Тестовое задание для стажера

- [Тестовое задание для стажера](#тестовое-задание-для-стажера)
  - [Задание](#задание)
    - [Общее описание](#общее-описание)
    - [Структура БД](#структура-бд)
    - [Структура Индекса](#структура-индекса)
    - [Необходимые методы](#необходимые-методы)
    - [Технические требования](#технические-требования)
    - [Программа максимум](#программа-максимум)
    - [Запуск](#запуск)



## Задание

Необходимо написать очень простой поисковик по текстам документов. Данные хранятся в БД по желанию, поисковый индекс в эластике.
Ссылка на тестовый массива данных: ./posts.csv. 

__Структура БД:__

- `id` - уникальный для каждого документа;
- `rubrics` - массив рубрик;
- `text` - текст документа;
- `created_date` - дата создания документа.

__Необходимые методы:__

- сервис должен принимать на вход произвольный текстовый запрос, искать по тексту документа в индексе и возвращать первые 20 документов со всем полями БД, упорядоченные по дате создания;
- удалять документ из БД и индекса по полю  `id`.

__Технические требования:__

- любой python фреймворк кроме Django и DRF;
- `README` с гайдом по поднятию;
- `docs.json` - документация к сервису в формате openapi.

__Программа максимум:__

- функциональные тесты;
- сервис работает в Docker;
- асинхронные вызовы.


## Запуск
1. Запустить VPN
2. Скачать архив с ElasticSearch. Распаковать
3. В файле elasticsearch.yml xpack.security.enabled: true заменить на false
4. Запустить .\bin\elasticsearch.bat
5. Запустить import_index.py
6. Чтобы проверить загрузку индекса в консоли ввести: curl -X GET "localhost:9200/_cat/indices?v"
7. Запустить server.py из папки app
8. "[http://10.0.6.84:5000/search/?text='ааа'](http://10.0.6.84:5000/search/?text=%27%D0%B0%27)" - пример ввода для поиска
9. http://10.0.6.84:5000/delete/?id=69 - пример ввода для удаления

